- name: "taux_penalite_majoration_fixe est égale à 0 avant 1996 car il n'existait pas"
  period: 1995
  input:
    penalite_majoration_fixe_apres_premiere_mise_en_demeure_appliquee: false
  output:
    taux_penalite_majoration_fixe: 0

- name: "taux_penalite_majoration_fixe est égale à 0.1 à partir de 1996"
  period: 1996
  input:
    penalite_majoration_fixe_apres_premiere_mise_en_demeure_appliquee: false
  output:
    taux_penalite_majoration_fixe: 0.1

- name: "taux_penalite_interet_de_retard est égale à 0 avant 1996 car il n'existait pas"
  period: 1995
  output:
    taux_penalite_interet_de_retard: 0

- name: "taux_penalite_interet_de_retard est égale à 0.0075 à partir de 1996"
  period: 1996
  output:
    taux_penalite_interet_de_retard: 0.0075

- name: "taux_penalite_interet_de_retard est égale à 0.004 à partir de 2015"
  period: 2015
  output:
    taux_penalite_interet_de_retard: 0.004

- name: "taux_penalite_interet_de_retard est égale à 0.002 à partir de 2019"
  period: 2019
  output:
    taux_penalite_interet_de_retard: 0.002

- name: "base_de_calcul_penalites n'est jamais négative"
  period: 2025
  input:
    impot_foncier_total_avant_changement: 50000
    impot_foncier_total: 40000
  output:
    base_de_calcul_penalites: 0

- name: "Aucune pénalité appliquée si base_de_calcul_penalites n'est pas supérieure à 0"
  period: 2025
  input:
    base_de_calcul_penalites: 0
    date_de_changement: 2004-06-11
    date_de_declaration: 2025-04-15
  output:
    penalite_majoration_fixe_appliquee: false
    penalite_interet_de_retard_appliquee: false

- name: "base_de_calcul_penalites est égale au delta entre impot_foncier_total et impot_foncier_total_avant_changement"
  period: 2025
  input:
    impot_foncier_total: 110604
    impot_foncier_total_avant_changement: 100604
  output:
    base_de_calcul_penalites: 10000

- name: "Aucune pénalité appliquée car déclaration dans les temps"
  period: 2025
  input:
    base_de_calcul_penalites: 10000
    date_de_changement: 2025-04-01
    date_de_declaration: 2025-04-15
  output:
    penalite_majoration_fixe_appliquee: false
    penalite_interet_de_retard_appliquee: false

- name: "penalite_majoration_fixe_appliquee est True car déclaration tardive"
  period: 2025
  input:
    base_de_calcul_penalites: 10000
    date_de_changement: 2025-04-01
    date_de_declaration: 2025-07-01
  output:
    penalite_majoration_fixe_appliquee: true

- name: "penalite_interet_de_retard_appliquee est False car déclaration avant le décompte, même si déclaration tardive"
  period: 2025
  input:
    base_de_calcul_penalites: 10000
    date_de_changement: 2025-04-15
    date_de_declaration: 2025-07-22
  output:
    date_debut_decompte_interet_de_retard: 2025-08-01
    penalite_majoration_fixe_appliquee: true
    penalite_interet_de_retard_appliquee: false

- name: "penalite_interet_de_retard_appliquee est False car date d'effet avant le 1er janvier de l'année en cours, même si déclaration après le décompte"
  period: 2025
  input:
    base_de_calcul_penalites: 10000
    date_de_changement: 2024-06-11
    date_de_declaration: 2024-11-01
  output:
    date_debut_decompte_interet_de_retard: 2024-10-01
    penalite_majoration_fixe_appliquee: true
    penalite_interet_de_retard_appliquee: false

- name: "penalite_interet_de_retard_appliquee est True car déclaration après le décompte et date d'effet après le 1er janvier de l'année en cours"
  period: 2025
  input:
    base_de_calcul_penalites: 10000
    date_de_changement: 2024-11-01
    date_de_declaration: 2025-02-01
  output:
    date_debut_decompte_interet_de_retard: 2025-02-01
    penalite_majoration_fixe_appliquee: true
    penalite_interet_de_retard_appliquee: true

- name: "nombre_de_mois_de_retard_de_la_declaration est égale à 1"
  period: 2025
  input:
    date_de_changement: 2024-11-01
    date_de_declaration: 2025-02-13
  output:
    nombre_de_mois_de_retard_de_la_declaration: 1

- name: "nombre_de_mois_de_retard_de_la_declaration est égale à 13"
  period: 2025
  input:
    date_de_changement: 2023-11-01
    date_de_declaration: 2025-02-13
  output:
    nombre_de_mois_de_retard_de_la_declaration: 13

- name: "penalite_majoration_fixe_apres_premiere_mise_en_demeure_appliquee est False car déclaration avant le délai des 30 jours suivant la première mise en demeure"
  period: 2025
  input:
    base_de_calcul_penalites: 10000
    date_de_changement: 2023-11-01
    date_de_declaration: 2025-02-01
    reception_premiere_mise_en_demeure: true
    date_de_reception_premiere_mise_en_demeure: 2025-01-15
  output:
    penalite_majoration_fixe_appliquee: true
    penalite_majoration_fixe_apres_premiere_mise_en_demeure_appliquee: false
    taux_penalite_majoration_fixe: 0.1
    penalite_interet_de_retard_appliquee: true

- name: "penalite_majoration_fixe_apres_premiere_mise_en_demeure_appliquee est False car déclaration avant le délai des 30 jours suivant la première mise en demeure"
  period: 2025
  input:
    base_de_calcul_penalites: 10000
    date_de_changement: 2023-11-01
    date_de_declaration: 2025-02-01
    reception_premiere_mise_en_demeure: true
    date_de_reception_premiere_mise_en_demeure: 2025-01-15
  output:
    penalite_majoration_fixe_appliquee: true
    penalite_majoration_fixe_apres_premiere_mise_en_demeure_appliquee: false
    taux_penalite_majoration_fixe: 0.1
    penalite_interet_de_retard_appliquee: true

- name: "penalite_majoration_fixe_apres_premiere_mise_en_demeure_appliquee est True car déclaration après le délai des 30 jours suivant la première mise en demeure"
  period: 2025
  input:
    base_de_calcul_penalites: 10000
    date_de_changement: 2023-11-01
    date_de_declaration: 2025-03-01
    reception_premiere_mise_en_demeure: true
    date_de_reception_premiere_mise_en_demeure: 2025-01-15
  output:
    penalite_majoration_fixe_appliquee: true
    penalite_majoration_fixe_apres_premiere_mise_en_demeure_appliquee: true
    taux_penalite_majoration_fixe: 0.4
    penalite_interet_de_retard_appliquee: true
